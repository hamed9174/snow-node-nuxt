{"version":3,"file":"pages/single-portfolio/_id/index.js","sources":["webpack:///./pages/single-portfolio/_id/index.vue?35cb","webpack:///./pages/single-portfolio/_id/index.vue","webpack:///./pages/single-portfolio/_id/index.vue?ac68","webpack:///./pages/single-portfolio/_id/index.vue?c98c"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"portfolio row\"},[_vm._ssrNode(\"<div class=\\\"container\\\" data-v-26783bd8><div class=\\\"portfolios-content mt-4\\\" data-v-26783bd8><div class=\\\"row\\\" data-v-26783bd8><div class=\\\"col-md-8\\\" data-v-26783bd8><div data-v-26783bd8><h1 class=\\\"pb-4\\\" data-v-26783bd8>\"+_vm._ssrEscape(_vm._s(_vm.portfolio.title))+\"</h1> <p data-v-26783bd8>\"+_vm._ssrEscape(\"\\n              \"+_vm._s(_vm.portfolio.description)+\"\\n            \")+\"</p></div></div> <div class=\\\"col-md-4 portfolio-info mt-5\\\" data-v-26783bd8><p data-v-26783bd8><span class=\\\"portfolio-info-title\\\" data-v-26783bd8>Client</span> : <span data-v-26783bd8>\"+_vm._ssrEscape(\"\\t\"+_vm._s(_vm.portfolio.client))+\"</span></p> <p data-v-26783bd8><span class=\\\"portfolio-info-title\\\" data-v-26783bd8>Date</span> : <span data-v-26783bd8>\"+_vm._ssrEscape(_vm._s(_vm.portfolio.create_at.month)+\".\"+_vm._s(_vm.portfolio.create_at.day)+\".\"+_vm._s(_vm.portfolio.create_at.year))+\"</span></p> <p data-v-26783bd8><span class=\\\"portfolio-info-title\\\" data-v-26783bd8>Share</span> : <span data-v-26783bd8>\\tFacebook, Twitter, Pinterest</span></p></div></div></div></div> <div class=\\\"col-12 portfolio-img\\\" data-v-26783bd8><img\"+(_vm._ssrAttr(\"src\",(_vm.webUrl + \"/assets/images/\" + (_vm.portfolio.img))))+\" alt data-v-26783bd8></div> \"),_vm._ssrNode(\"<div class=\\\"my-comments col-12 row pt-5\\\" data-v-26783bd8>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container\\\" data-v-26783bd8>\",\"</div>\",[_c('b-card',{attrs:{\"bg-variant\":\"dark\",\"text-variant\":\"white\"}},[_c('b-card-title',[_vm._v(\"\\n          Comments (\"+_vm._s(_vm.portfolio.comments.length)+\")\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"add-comment py-3\"},[_c('ValidationObserver',{ref:\"add\",staticClass:\"form-validate row\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"form-row col-12\",attrs:{\"enctype\":\"application/json\"},on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.AddComment)}}},[_c('div',{staticClass:\"col-8 py-3\"},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\"}},[_c('ValidationProvider',{attrs:{\"name\":\"Comment\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Add Comment\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"col-4 py-3\"},[_c('b-button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"send comment\")])],1)])]}}])})],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"size\":\"xl\",\"title\":_vm.formTitle,\"hide-footer\":true},model:{value:(_vm.addReplyComment),callback:function ($$v) {_vm.addReplyComment=$$v},expression:\"addReplyComment\"}},[_c('div',{staticClass:\"add-comment py-3\"},[_c('ValidationObserver',{ref:\"reply\",staticClass:\"form-validate row\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"form-row col-12\",attrs:{\"enctype\":\"application/json\"},on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.ChangeComment)}}},[_c('div',{staticClass:\"col-8 py-3\"},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\"}},[_c('ValidationProvider',{attrs:{\"name\":\"Last-Name\",\"rules\":\"required|min:20\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Add Reply Comment\"},model:{value:(_vm.replyComment),callback:function ($$v) {_vm.replyComment=$$v},expression:\"replyComment\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"col-4 py-3\"},[_c('b-button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"send comment\")])],1)])]}}])})],1)]),_vm._v(\" \"),(_vm.portfolio.comments.length)?_c('div',{staticClass:\"comments\"},_vm._l((_vm.portfolio.comments),function(comment,index){return _c('div',{staticClass:\"comment py-3\"},[_c('b-card',{attrs:{\"bg-variant\":\"white\",\"text-variant\":\"dark\"}},[_c('h3',[_vm._v(_vm._s(comment.message))]),_vm._v(\" \"),_c('div',{staticClass:\"comment-options\"},[_c('span',{on:{\"click\":function($event){return _vm.ShowReplyComment(index)}}},[_vm._v(\"Reply\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.EditComment(index)}}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.DeleteComment(index)}}},[_vm._v(\"Delete\")])]),_vm._v(\" \"),(comment.replies.length)?_c('div',{staticClass:\"replies mt-3\"},[_c('b-card',_vm._l((comment.replies),function(reply){return _c('div',[_c('h2',[_vm._v(_vm._s(reply.writer))]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(reply.message))])])}),0)],1):_vm._e()])],1)}),0):_vm._e()],1)],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {webUrl} from \"~/services/xhr\";\r\n\r\nexport default {\r\n      name: \"SinglePortfolio\",\r\n      head:{\r\n        title : 'Single Portfolio'\r\n      },\r\n      data(){\r\n        return{\r\n          webUrl,\r\n          formTitle : '',\r\n          method : '',\r\n          addReplyComment: false,\r\n          comment : '',\r\n          replyComment: '',\r\n          orgComment: {},\r\n          comments : [],\r\n          portfolio : null,\r\n          id : null,\r\n          index : null\r\n        }\r\n      },\r\n      async asyncData({$api , params}) {\r\n        const portfolio = await $api.$get(`portfolios/single-portfolio/${params.id}`)\r\n        return {\r\n          portfolio : portfolio\r\n        }\r\n      },\r\n      watch: {\r\n        addReplyComment: function (val) {\r\n          if (!val) {\r\n            this.replyComment = ''\r\n          }\r\n        },\r\n      },\r\n      methods:{\r\n        EditComment(index){\r\n          this.addReplyComment = !this.addReplyComment\r\n          this.index = index;\r\n          this.replyComment = this.portfolio.comments[index].message;\r\n          this.method = 'edit';\r\n          this.formTitle = 'Edit Comment';\r\n        },\r\n        async AddComment(){\r\n          let comment = {\r\n            message : this.comment,\r\n            writer : this.$auth.user.username,\r\n            replies : [],\r\n          };\r\n          this.portfolio.comments.push(comment)\r\n          await this.$api.put(`portfolios/comment`, this.portfolio)\r\n            .then(res => {\r\n              this.portfolio = res.data\r\n            })\r\n            .catch(err => console.log(err))\r\n          this.comment = ''\r\n          this.$refs.add.reset()\r\n        },\r\n        ShowReplyComment(index){\r\n          this.index = index;\r\n          this.addReplyComment = !this.addReplyComment;\r\n          this.method = 'reply';\r\n          this.formTitle = 'Reply Comment';\r\n        },\r\n        async ChangeComment(){\r\n          if (this.method === 'reply'){\r\n            let reply = {\r\n              message : this.replyComment,\r\n              writer: this.$auth.user.username\r\n            }\r\n            this.portfolio.comments[this.index].replies.push(reply)\r\n            await this.$api.put(`portfolios/comment`, this.portfolio)\r\n              .then(res => {\r\n                this.portfolio = res.data\r\n              })\r\n              .catch(err => console.log(err))\r\n\r\n          } else {\r\n            this.portfolio.comments[this.index].message = this.replyComment\r\n            await this.$api.put(`portfolios/comment`, this.portfolio)\r\n              .then(res => {\r\n                this.portfolio = res.data\r\n              })\r\n              .catch(err => console.log(err))\r\n          }\r\n          this.replyComment = '';\r\n          this.addReplyComment = !this.addReplyComment;\r\n          this.$refs.reply.reset()\r\n        },\r\n        async DeleteComment(index) {\r\n          this.replyComment = this.portfolio.comments[index].message;\r\n          let comments = this.portfolio.comments.filter(comment => comment.message !== this.replyComment)\r\n          this.portfolio.comments = comments\r\n          await this.$api.put(`portfolios/comment`, this.portfolio)\r\n            .then(res => {\r\n              this.portfolio = res.data\r\n            })\r\n            .catch(err => console.log(err))\r\n        }\r\n      }\r\n    }\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=26783bd8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"26783bd8\",\n  \"97a97848\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;ACzGA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}