{"version":3,"file":"pages/single-blog/_id/index.js","sources":["webpack:///./pages/single-blog/_id/index.vue?28bd","webpack:///./pages/single-blog/_id/index.vue","webpack:///./pages/single-blog/_id/index.vue?393a","webpack:///./pages/single-blog/_id/index.vue?07f0"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.blog)?_c('div',{staticClass:\"single-blog\"},[_vm._ssrNode(\"<div class=\\\"single-blogs\\\" data-v-78751498>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"blog-img\\\" data-v-78751498><img\"+(_vm._ssrAttr(\"src\",(_vm.webUrl + \"/assets/images/\" + (_vm.blog.img))))+\" alt data-v-78751498></div> <div class=\\\"blog-content\\\" data-v-78751498><h1 data-v-78751498>\"+_vm._ssrEscape(_vm._s(_vm.blog.title))+\"</h1> <h4 data-v-78751498><span class=\\\"mx-3\\\" data-v-78751498>\"+_vm._ssrEscape(_vm._s(_vm.blog.create_at.month)+\" \"+_vm._s(_vm.blog.create_at.day)+\", \"+_vm._s(_vm.blog.create_at.year))+\"</span> <span class=\\\"category mx-3\\\" data-v-78751498>\"+_vm._ssrEscape(_vm._s(_vm.blog.category)+\",\")+\"</span> <span class=\\\"mx-3\\\" data-v-78751498>2 COMMENTS</span></h4> <p data-v-78751498>\"+_vm._ssrEscape(_vm._s(_vm.blog.content))+\"</p></div> \"),_vm._ssrNode(\"<div class=\\\"my-comments row pt-5\\\" data-v-78751498>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container\\\" data-v-78751498>\",\"</div>\",[_c('b-card',{attrs:{\"bg-variant\":\"dark\",\"text-variant\":\"white\"}},[_c('b-card-title',[_vm._v(\"\\n            Comments (\"+_vm._s(_vm.blog.comments.length)+\")\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"add-comment py-3\"},[_c('ValidationObserver',{ref:\"add\",staticClass:\"form-validate row\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"form-row col-12\",attrs:{\"enctype\":\"application/json\"},on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.AddComment)}}},[_c('div',{staticClass:\"col-8 py-3\"},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\"}},[_c('ValidationProvider',{attrs:{\"name\":\"Comment\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Add Comment\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"col-4 py-3\"},[_c('b-button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"send comment\")])],1)])]}}],null,false,3302616076)})],1),_vm._v(\" \"),_c('b-modal',{attrs:{\"size\":\"xl\",\"title\":_vm.formTitle,\"hide-footer\":true},model:{value:(_vm.addReplyComment),callback:function ($$v) {_vm.addReplyComment=$$v},expression:\"addReplyComment\"}},[_c('div',{staticClass:\"add-comment py-3\"},[_c('ValidationObserver',{ref:\"reply\",staticClass:\"form-validate row\",scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('b-form',{staticClass:\"form-row col-12\",attrs:{\"enctype\":\"application/json\"},on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.ChangeComment)}}},[_c('div',{staticClass:\"col-8 py-3\"},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\"}},[_c('ValidationProvider',{attrs:{\"name\":\"Last-Name\",\"rules\":\"required|min:20\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Add Reply Comment\"},model:{value:(_vm.replyComment),callback:function ($$v) {_vm.replyComment=$$v},expression:\"replyComment\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(errors[0]))])]}}],null,true)})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"col-4 py-3\"},[_c('b-button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"send comment\")])],1)])]}}],null,false,2825059380)})],1)]),_vm._v(\" \"),(_vm.blog.comments.length)?_c('div',{staticClass:\"comments\"},_vm._l((_vm.blog.comments),function(comment,index){return _c('div',{staticClass:\"comment py-3\"},[_c('b-card',{attrs:{\"bg-variant\":\"white\",\"text-variant\":\"dark\"}},[_c('h3',[_vm._v(_vm._s(comment.message))]),_vm._v(\" \"),_c('div',{staticClass:\"comment-options\"},[_c('span',{on:{\"click\":function($event){return _vm.ShowReplyComment(index)}}},[_vm._v(\"Reply\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.EditComment(index)}}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){return _vm.DeleteComment(index)}}},[_vm._v(\"Delete\")])]),_vm._v(\" \"),(comment.replies.length)?_c('div',{staticClass:\"replies mt-3\"},[_c('b-card',_vm._l((comment.replies),function(reply){return _c('div',[_c('h2',[_vm._v(_vm._s(reply.writer))]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(reply.message))])])}),0)],1):_vm._e()])],1)}),0):_vm._e()],1)],1)])],2)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {webUrl} from \"~/services/xhr\";\r\n\r\nexport default {\r\n      name: \"SingleBlog\",\r\n      head:{\r\n        title : 'Single Blog'\r\n      },\r\n      data(){\r\n        return{\r\n          webUrl,\r\n          formTitle : '',\r\n          method : '',\r\n          addReplyComment: false,\r\n          comment : '',\r\n          replyComment: '',\r\n          orgComment: {},\r\n          comment_id : '',\r\n          comments : [],\r\n          blog : null,\r\n          id : null,\r\n          index : null\r\n        }\r\n      },\r\n      async asyncData({$api , params}) {\r\n        const blog = await $api.$get(`blogs/single-blog/${params.id}`)\r\n        return {\r\n          blog : blog\r\n        }\r\n      },\r\n      methods:{\r\n        EditComment(index){\r\n          this.addReplyComment = !this.addReplyComment\r\n          this.index = index;\r\n          this.replyComment = this.blog.comments[index].message;\r\n          this.method = 'edit'\r\n          this.formTitle = 'Edit Comment'\r\n        },\r\n        async AddComment(){\r\n          let comment = {\r\n            message : this.comment,\r\n            writer : this.$auth.user.username,\r\n            replies : [],\r\n          };\r\n          this.blog.comments.push(comment)\r\n          await this.$api.put(`blogs/comment`, this.blog)\r\n            .then(res => {\r\n              this.blog = res.data\r\n            })\r\n            .catch(err => console.log(err))\r\n          this.comment = ''\r\n          this.$refs.add.reset()\r\n        },\r\n        ShowReplyComment(index){\r\n          this.index = index;\r\n          this.addReplyComment = !this.addReplyComment;\r\n          this.method = 'reply';\r\n          this.formTitle = 'Reply Comment';\r\n          this.replyComment = ''\r\n        },\r\n        async ChangeComment(){\r\n          if (this.method === 'reply'){\r\n            let reply = {\r\n              message : this.replyComment,\r\n              writer: this.$auth.user.username\r\n            }\r\n            this.blog.comments[this.index].replies.push(reply)\r\n            await this.$api.put(`blogs/comment`, this.blog)\r\n              .then(res => {\r\n                this.blog = res.data\r\n              })\r\n              .catch(err => console.log(err))\r\n\r\n          } else {\r\n            this.blog.comments[this.index].message = this.replyComment\r\n            await this.$api.put(`blogs/comment`, this.blog)\r\n              .then(res => {\r\n                this.blog = res.data\r\n              })\r\n              .catch(err => console.log(err))\r\n          }\r\n          this.replyComment = '';\r\n          this.addReplyComment = !this.addReplyComment;\r\n          this.$refs.reply.reset()\r\n\r\n        },\r\n        async DeleteComment(index) {\r\n          this.replyComment = this.blog.comments[index].message;\r\n          let comments = this.blog.comments.filter(comment => comment.message !== this.replyComment)\r\n          this.blog.comments = comments\r\n          await this.$api.put(`blogs/comment`, this.blog)\r\n            .then(res => {\r\n              this.blog = res.data\r\n            })\r\n            .catch(err => console.log(err))\r\n        }\r\n      }\r\n    }\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=78751498&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"78751498\",\n  \"556b3fc2\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAcA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAlEA;AA3BA;;AC/FA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}